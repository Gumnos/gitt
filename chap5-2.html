<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Git In The Trenches</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
<link type="text/css" href="menu.css" rel="stylesheet" />
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-228354-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body>
<table width="1000" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr>
    <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td class="logo"><a href="index.html"><img src="images/git_logo_new.png" alt="Git In The Trenches" height="61" border="0"></a></td>
            <td class="nav">
				<a href="index.html">Home</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="download.html">Download Now</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="intro.html">Read Now</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="http://github.com/cbx33/gitt">Source</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="feedback.html">Feeback</a>
			</td>
          </tr>
        </table></td>
      </tr>
      <tr>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td class="main_content_pad"><table width="100%"  border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td width="309"><table width="100%"  border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td class="subnav">
				<strong>Introduction</strong><br>
&bull;&nbsp;&nbsp;<a href="intro.html">How this book works</a><br>
<div class="divider"></div>
<strong>Setting up</strong><br>
&bull;&nbsp;&nbsp;<a href="setup.html">Making sure you have everything</a><br>
<div class="divider"></div>
<strong>Week 1</strong><br>
<span>&bull; Day 1 </span> - <a href="chap1-1.html"> "Things need to change"</a><br>
<span>&bull; Day 3 </span> - <a href="chap1-2.html"> "A possible solution"</a><br>
<span>&bull; Day 4 </span> - <a href="chap1-3.html"> "A decision is reached"</a><br>
<span>&bull; Day 5 </span> - <a href="chap1-4.html"> "Working like a team"</a><br>
<div class="divider"></div>
<strong>After Hours Week 1</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours1-1.html">"History Lesson"</a><br>
<div class="divider"></div>
<strong>Week 2</strong><br>
<span>&bull; Day 1 </span> - <a href="chap2-1.html"> "We are coders, we use Git!"</a><br>
<span>&bull; Day 2 </span> - <a href="chap2-2.html"> "Making commitments"</a><br>
<span>&bull; Day 4 </span> - <a href="chap2-3.html"> "Let's do this right, not fast"</a><br>
<span>&bull; Summary </span> - <a href="chap2-4.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 2</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours2-1.html">"A Little Of Git's Internals"</a><br>
<div class="divider"></div>
<strong>Week 3</strong><br>
<span>&bull; Day 1 </span> - <a href="chap3-1.html"> "How do I see what's going on?"</a><br>
<span>&bull; Day 2 </span> - <a href="chap3-2.html"> "But I need more information"</a><br>
<span>&bull; Day 3 </span> - <a href="chap3-3.html"> "What actually changed?"</a><br>
<span>&bull; Day 4 </span> - <a href="chap3-4.html"> "Finding a good reference point"</a><br>
<span>&bull; Day 5 </span> - <a href="chap3-5.html"> "Putting things back again"</a><br>
<span>&bull; Summary </span> - <a href="chap3-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 3</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours3-1.html">"A Closer Look At Diffs and Tags"</a><br>
<div class="divider"></div>
<strong>Week 4</strong><br>
<span>&bull; Day 1 </span> - <a href="chap4-1.html"> "We're getting somewhere"</a><br>
<span>&bull; Day 2 </span> - <a href="chap4-2.html"> "Branches galore"</a><br>
<span>&bull; Day 3 </span> - <a href="chap4-3.html"> "Tricking the twigs"</a><br>
<span>&bull; Day 4 </span> - <a href="chap4-4.html"> "I pressed delete..."</a><br>
<span>&bull; Day 5 </span> - <a href="chap4-5.html"> "Conflicting information"</a><br>
<span>&bull; Summary </span> - <a href="chap4-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 4</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours4-1.html">"Merge merge merge"</a><br>
&bull;&nbsp;&nbsp;<a href="afterhours4-2.html">"Grepping your life away"</a><br>
<div class="divider"></div>
<strong>Week 5</strong><br>
<span>&bull; Day 1 </span> - <a href="chap5-1.html"> "This isn't working for me John"</a><br>
<span>&bull; Day 2 </span> - <a href="chap5-2.html"> "Back to logging"</a><br>
<span>&bull; Day 4 </span> - <a href="chap5-3.html"> "Advanced Techniques"</a><br>
<span>&bull; Summary </span> - <a href="chap5-4.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 5</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours5-1.html">"Splitting up commits the easy way"</a><br>
<div class="divider"></div>
<strong>Week 6</strong><br>
<span>&bull; Day 1 </span> - <a href="chap6-1.html"> "My private little stash"</a><br>
<span>&bull; Day 2 </span> - <a href="chap6-2.html"> "What?! No backup?"</a><br>
<span>&bull; Day 3 </span> - <a href="chap6-3.html"> "Is this clone for real?"</a><br>
<span>&bull; Day 4 </span> - <a href="chap6-4.html"> "Help I'm no longer up to date?"</a><br>
<span>&bull; Day 5 </span> - <a href="chap6-5.html"> "I'm putting my foot down"</a><br>
<span>&bull; Summary </span> - <a href="chap6-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 6</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours6-1.html">"Tug of war"</a><br>
&bull;&nbsp;&nbsp;<a href="afterhours6-2.html">"Referring to objects"</a><br>
<div class="divider"></div>
<strong>Week 7</strong><br>
<span>&bull; Day 1 </span> - <a href="chap7-1.html"> "Networking with a difference"</a><br>
<span>&bull; Day 2 </span> - <a href="chap7-2.html"> "Now let's work together"</a><br>
<span>&bull; Day 3 </span> - <a href="chap7-3.html"> "Rebasing our commitments"</a><br>
<span>&bull; Day 4 </span> - <a href="chap7-4.html"> "Starting to get rebased"</a><br>
<span>&bull; Day 5 </span> - <a href="chap7-5.html"> "I could rebase the world"</a><br>
<span>&bull; Summary </span> - <a href="chap7-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 7</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours7-1.html">"Network Communicating"</a><br>
<div class="divider"></div>
<strong>Week 8</strong><br>
<span>&bull; Day 1 </span> - <a href="chap8-1.html"> "Give a man a patch"</a><br>
<span>&bull; Day 2 </span> - <a href="chap8-2.html"> "Looking for problems"</a><br>
<span>&bull; Day 3 </span> - <a href="chap8-3.html"> "Filtered repos"</a><br>
<span>&bull; Day 4 </span> - <a href="chap8-4.html"> "Let's make a library"</a><br>
<span>&bull; Day 5 </span> - <a href="chap8-5.html"> "Shhh....we're in a library"</a><br>
<span>&bull; Summary </span> - <a href="chap8-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 8</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours8-1.html">"Fishing for beginners"</a><br>
<div class="divider"></div>
<strong>A little extra help</strong><br>
&bull;&nbsp;&nbsp;<a href="chap9-1.html">Taking things further</a><br>
&bull;&nbsp;&nbsp;<a href="chap9-2.html">The end of the journey</a><br>
<div class="divider"></div>

				
				<td class="fade_right">&nbsp;</td>
              </tr>
              <tr>
                <td class="fade_bot">&nbsp;</td>
                <td class="fade_corner">&nbsp;</td>
              </tr>
            </table>              <h1>&nbsp;</h1>
              </td>
            <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td class="read_content">
<h1>Week 5</h1><h2>Day 2 - "Back to logging"</h2>
<h3>Visualisation to the max</h3>
With the basic operations down, as we discovered in Week 1, let us now move on to using the GUI to view the history of our database.
The visualiser that is bundled with Git is packed with features and can be invoked in one of two ways, either by running <code class="ncode">gitk</code> from the command line, or by choosing <strong><em>Repository - Visualize All Branch History</strong></em> or <strong><em>Repository - Visualize master's Branch History</strong></em>, the latter menu item is worded with the assumption that you are on the <strong>master</strong> branch of course.<br><br>Whichever way we begin an instance of <code class="ncode">gitk</code>, we are likely to end up with a screen like the one in Figure 8.<br><center><table  border="0" cellpadding="0" cellspacing="0" class="image_float_left">
                    <tr>
                      <td style="padding:10px;"><img src="images/chaps/f-w5-d8.png" width="400" ></td>
                      <td class="fade_right">&nbsp;</td>
                    </tr>
                    <tr>
                      <td class="fade_bot_image"><div align="center"><strong>Figure 8</strong><br>Initial <code class="ncode">gitk</code> view of our repository</div></td>
                      <td class="fade_corner">&nbsp;</td>
                    </tr>
                  </table></center><br>Let us spend a few minutes familiarising ourselves with the layout of the <code class="ncode">gitk</code> tool.
The window is split up into roughly seven different areas.
We will take a brief look at each of these below.<br><div style="padding-left:10px;"><ol><li><strong>History Graph</strong> - This area of the screen gives a graphical representation of the history of our repository.
Similar to the <code class="ncode">git log --graph</code> option that we used previously, the graph here is much more readable.</li>
<li><strong>Committer History</strong> - The committer history tells us the person who added the commit which is horizontally adjacent in the commit graph.</li>
<li><strong>Date History</strong> - The date history is very similar to the committer history section of the screen and shows us a simple view of the date of the commit which is horizontally adjacent.</li>
<li><strong>History Search</strong> - This section of the screen allows you to narrow down and highlight a subset of commits which meet a certain criteria.
It also allows you to navigate through these results.</li>
<li><strong>Commit Search</strong> - Once you have highlighted a commit, the commit search section allows you to find specific strings within that commit, including looking at just old or new lines to the repository.</li>
<li><strong>Content View</strong> - This window actually shows the data that was stored in the commit and allows you scroll through either changes or complete files.</li>
<li><strong>File System View</strong> - The file system view shows you a list of files that were either modified in a specified commit, or that were present in the commit.</li>
</ol></div><br>To start with, let us take a look at the graph that is present in <strong>History Graph</strong> section of the screen in Figure 9.
Essentially this is just a very simplified version of the graphs we were drawing in the previous chapter.
As you can see, the only information that appears to be missing from the graph is the commit ID, which can be obtained quite easily by clicking on the relevant commit and viewing the string presented just below the graph pane.<br><center><table  border="0" cellpadding="0" cellspacing="0" class="image_float_left">
                    <tr>
                      <td style="padding:10px;"><img src="images/chaps/f-w5-d9.png" width="400" ></td>
                      <td class="fade_right">&nbsp;</td>
                    </tr>
                    <tr>
                      <td class="fade_bot_image"><div align="center"><strong>Figure 9</strong><br>Graphical history of our repository</div></td>
                      <td class="fade_corner">&nbsp;</td>
                    </tr>
                  </table></center><br>The historical graph shows us all active branches, tags and commits.
From looking at this it is easy to see where our merges occurred and where the branch HEADs point to.
The branches are identified by green rectangles, and the tags as yellow labels.
Each circle on the graph is a commit and is linked to the panes on the right, where you can see the committer and date information.<br><br>If we select the <strong>master</strong> branch HEAD, which should be the top commit, (in fact on opening <code class="ncode">gitk</code> this should already be selected), we should see a pane similar to Figure 10 in the <strong>Content View</strong> section of the screen.<br><center><table  border="0" cellpadding="0" cellspacing="0" class="image_float_left">
                    <tr>
                      <td style="padding:10px;"><img src="images/chaps/f-w5-d10.png" width="400" ></td>
                      <td class="fade_right">&nbsp;</td>
                    </tr>
                    <tr>
                      <td class="fade_bot_image"><div align="center"><strong>Figure 10</strong><br>Content view of <strong>master</strong> HEAD</div></td>
                      <td class="fade_corner">&nbsp;</td>
                    </tr>
                  </table></center><br>Notice in this that we have two parents listed, which is what we would expect, as the last commit we did was that of a merge from <strong>zaney</strong> into <strong>master</strong>.
Notice also that below this, we get to see a diff output of exactly what changed during this merge.
Interestingly, it shows that <code class="ncode">newfile1</code> loses one line from parent <strong>ed2301b</strong> and another from parent <strong>7cc32db</strong>.
These are both replaced by the next line, which reads <code class="ncode">and some more awesome changes</code>.<br><br>The current commit is a little special as it is a merge.
If you choose any normal commit, you can use the <code class="ncode">Diff</code>, <code class="ncode">Old version</code> and <code class="ncode">New version</code> buttons to either show what the file used to look like (Old), what it looks like now (New), or the default view which is the Diff and shows the combination of the changes.<br><br>Above the <strong>File System View</strong> pan is a button to switch between <code class="ncode">Patch</code> and <code class="ncode">Tree</code> views.
By default, this is set to <code class="ncode">Patch</code> and changes what the <strong>Content View</strong> pane displays.
When set to <code class="ncode">Patch</code>, this shows us the changes between the old commit and the new one.
However, when we switch this to <code class="ncode">Tree</code> view the <strong>Content View</strong> pane changes to show the contents of a file selected from its pane, at the current commit.
In this way, it allows you to browse and display files from previous commits graphically and effortlessly.
Simply select the commit, selected <code class="ncode">Tree</code> mode, choose the file, et voila, it is presented in the <strong>Content View</strong> pane.<br><br>So as you can see, the <code class="ncode">gitk</code> tool is already quite powerful.
We are now going to take things a step further.
Remember in <strong>Week 3</strong> we had a way of searching the repository for the introduction of a string.
We can do the exact same thing with <code class="ncode">gitk</code>.<br><br>We are going to drop down the box which currently reads <code class="ncode">contains:</code> in the <strong>History Search</strong> pane and change it to <code class="ncode">add/removing string:</code>.
Then we are going to enter <code class="ncode">Change1</code> into the field on the right.
Your changes should look similar to Figure 11.<br><center><table  border="0" cellpadding="0" cellspacing="0" class="image_float_left">
                    <tr>
                      <td style="padding:10px;"><img src="images/chaps/f-w5-d11.png" width="400" ></td>
                      <td class="fade_right">&nbsp;</td>
                    </tr>
                    <tr>
                      <td class="fade_bot_image"><div align="center"><strong>Figure 11</strong><br>Searching for a string</div></td>
                      <td class="fade_corner">&nbsp;</td>
                    </tr>
                  </table></center><br>After you have finished typing you should already have noticed a difference in the <strong>History Graph</strong> pane.
Notice how some commits are now highlighted in bold, as demonstrated in Figure 12?<br><center><table  border="0" cellpadding="0" cellspacing="0" class="image_float_left">
                    <tr>
                      <td style="padding:10px;"><img src="images/chaps/f-w5-d12.png" width="400" ></td>
                      <td class="fade_right">&nbsp;</td>
                    </tr>
                    <tr>
                      <td class="fade_bot_image"><div align="center"><strong>Figure 12</strong><br>Search results are highlighted</div></td>
                      <td class="fade_corner">&nbsp;</td>
                    </tr>
                  </table></center><br>If you remember from Week 3, when we first ran the <code class="ncode">git log -S "Change1"</code> command, we were presented with only one commit.
That was titled, <code class="ncode">Made a few changes to first and second files</code>.
Our repository has moved on since then and we can see that that particular string, <code class="ncode">Change1</code> was added or removed in two other commits as well.
This was when we totally changed <code class="ncode">my_second_committed_file</code> and when we removed <code class="ncode">my_first_committed_file</code> a little later.
The <strong>Next</strong> and <strong>Previous</strong> buttons can be used to navigate through the search results.<br><br>Now that we have found the commits that contain the change to the string we are looking for.
The question is, where in the file does this change occur? We can now use the <strong>Commit Search</strong> pane to see this.
Typing <code class="ncode">Change1</code> into this search box will highlight the relevant text in the <code class="ncode">Content View</code> pane below.
It really is as easy as that.<br><br>Whilst it is a great idea to remember and use the command line arguments and parameters, it is also useful to know that these other tools are available.
GUI tools should not be frowned upon, as some command line purists do.
GUI tools are as much a part of the development process as their command line counterparts.
Both have their uses and the most important lesson of all is to know when to use which.
This lesson will most likely come with experience and time, or as a friend of mine used to put it, old age.<br><h3>Customising the visualisation</h3><br><div id="trenchblock"><strong>In the trenches...</strong><br>
"Eugene," called Klaus as the tools developer walked past him.
"Could I borrow you for a second?"<br><br>"I guess," said Eugene coldly.
"What is it that you want exactly?"<br><br>"Well," Klaus began,
"I started using the GUI tools a little and found something you might consider interesting. I know you spend a lot of time switching between different versions of our code looking for various functions and things and I found this cool tool in the GUI."<br><br>Eugene breathed in deeply.
Knowing Eugene, it wouldn't be anything amazing, but nevertheless, his interest had been piqued.
</div><br>The <code class="ncode">gitk</code> tool has a pretty awesome feature called <em>views</em>.
Sometimes it may be necessary to keep track of everything a certain person has done.
Or maybe see anything that has happened in the last week.
You may even be interested in people adding certain strings to the repository.
The <em>views</em> feature allows you to do just that.
By setting up a view, you can filter the results that are displayed in <code class="ncode">gitk</code>, byt simply switching to it.<br><br>In the example we are going to go back to the search we made previously and filter the history for any changes to <code class="ncode">my_first_committed_file</code> that add or remove the string <code class="ncode">Change1</code>.
First we are going to load the dialog box, by using the menu <strong><em>View - New View...</strong></em>.
The resulting dialog is displayed below and we have already filled in the required information.<br><center><table  border="0" cellpadding="0" cellspacing="0" class="image_float_left">
                    <tr>
                      <td style="padding:10px;"><img src="images/chaps/f-w5-d13.png" width="400" ></td>
                      <td class="fade_right">&nbsp;</td>
                    </tr>
                    <tr>
                      <td class="fade_bot_image"><div align="center"><strong>Figure 13</strong><br>Setting up a <em>view</em></div></td>
                      <td class="fade_corner">&nbsp;</td>
                    </tr>
                  </table></center><br>We changed the <strong>View Name</strong> to be <code class="ncode">Change1</code>.
This is simply an identifier that will allow us to choose our view in the future.
We have also ticked the <strong>Remember this view</strong>.
Ticking this box ensures that the view is remembered once we close <code class="ncode">gitk</code>.
Sometimes, this behaviour is not desired, but in our case we want this view to be available every time we start <code class="ncode">gitk</code>.<br><br>There are many options which we can set, but in our case we have chosen to simply add <code class="ncode">Change1</code> to the <strong>Changes to files:</strong> section.
This is equivalent to the search that we performed earlier.
We have also filtered the files which are included in the results, by putting, <code class="ncode">my_first_committed_file</code> in the <strong>Enter files and directories to be included</strong> box.<br><br>The result of this view is shown in Figure 14.
Notice that instead of all the commits being shown, we are just shown the two that we are interested in.
Both of these commits are referred to earlier in the chapter, when we ran the search manually in <code class="ncode">gitk</code><br><center><table  border="0" cellpadding="0" cellspacing="0" class="image_float_left">
                    <tr>
                      <td style="padding:10px;"><img src="images/chaps/f-w5-d14.png" width="400" ></td>
                      <td class="fade_right">&nbsp;</td>
                    </tr>
                    <tr>
                      <td class="fade_bot_image"><div align="center"><strong>Figure 14</strong><br>View results</div></td>
                      <td class="fade_corner">&nbsp;</td>
                    </tr>
                  </table></center><br>This ends our tour of the <code class="ncode">gitk</code> utility.
Hopefully you have seen that it can actually present a large amount of information in a very compact and usable way.
As such it should not be forgotten about and should remain part of your arsenal of Git tools.<br><br><table border="0" cellpadding="0" cellspacing="0" width="100%">
					<tr>
						<td><p align="left"><a href="chap5-1.html"><img src="images/prev.png" alt="Previous Day" height="29" border="0"></a></p></td>
						<td><p align="right"><a href="chap5-3.html"><img src="images/next.png" alt="Next Day" height="29" border="0"></a></p></td>
					</tr>
				</table>                  </td>
                <td class="fade_right">&nbsp;</td>
              </tr>
              <tr>
                <td class="fade_bot">&nbsp;</td>
                <td class="fade_corner">&nbsp;</td>
              </tr>
            </table></td>
            </tr>
          </table>
		</td>
      </tr>
      <tr>
        <td class="foot"><a href="index.html">home</a> | <a href="download.html">download</a> | <a href="intro.html">read now</a> | <a href="http://github.com/cbx33/gitt">source</a> | <a href="feedback.html">feedback</a> | <a href="legal.html">legal stuff</a><br>
        </td>
      </tr>
    </table></td>
  </tr>
</table>
</body>
</html>
