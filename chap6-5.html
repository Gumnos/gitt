<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Git In The Trenches</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
<!--	<link type="text/css" href="menu.css" rel="stylesheet" />-->
<!--	<script type="text/javascript" src="jquery.js"></script>-->
<!--	<script type="text/javascript" src="menu.js"></script>-->
</head>

<body>
<table width="1000" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr>
    <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td class="logo"><a href="index.html"><img src="images/git_logo_new.png" alt="Git In The Trenches" height="61" border="0"></a></td>
            <td class="nav">
				<a href="index.html">Home</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="download.html">Download Now</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="intro.html">Read Now</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="source.html">Source</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="feedback.html">Feeback</a>
			<!--<div id="menu">
		<ul class="menu">
			<li><a href="index.html" class="parent"><span>Home</span></a>
			</li>
			<li><a href="download.html"><span>Download Now</span></a></li>
			<li><a href="read.html"><span>Read Now</span></a><div><ul>
                <li><a href="#" class="parent"><span>Chapter 1</span></a>
                    <div><ul>
                        <li><a href="#"><span>Day 1</span></a></li>
                        <li><a href="#"><span>Day 2</span></a></li>
                        <li><a href="#"><span>Day 3</span></a></li>
                        <li><a href="#"><span>Day 4</span></a></li>
                        <li><a href="#"><span>Day 5</span></a></li>
                        <li><a href="#"><span>Day 6</span></a></li>
                    </ul></div>
                </li>
                <li><a href="#" class="parent"><span>Chapter 2</span></a>
				<div><ul>
                        <li><a href="#"><span>Day 1</span></a></li>
                        <li><a href="#"><span>Day 2</span></a></li>
                        <li><a href="#"><span>Day 3</span></a></li>
                        <li><a href="#"><span>Day 4</span></a></li>
                        <li><a href="#"><span>Day 5</span></a></li>
                        <li><a href="#"><span>Day 6</span></a></li>
                    </ul></div></li>
                <li><a href="#" class="parent"><span>Chapter 3</span></a>
				<div><ul>
                        <li><a href="#"><span>Day 1</span></a></li>
                        <li><a href="#"><span>Day 2</span></a></li>
                        <li><a href="#"><span>Day 3</span></a></li>
                        <li><a href="#"><span>Day 4</span></a></li>
                        <li><a href="#"><span>Day 5</span></a></li>
                        <li><a href="#"><span>Day 6</span></a></li>
                    </ul></div></li>
					<li><a href="#" class="parent"><span>Chapter 4</span></a>
				<div><ul>
                        <li><a href="#"><span>Day 1</span></a></li>
                        <li><a href="#"><span>Day 2</span></a></li>
                        <li><a href="#"><span>Day 3</span></a></li>
                        <li><a href="#"><span>Day 4</span></a></li>
                        <li><a href="#"><span>Day 5</span></a></li>
                        <li><a href="#"><span>Day 6</span></a></li>
                    </ul></div></li>
					<li><a href="#" class="parent"><span>Chapter 5</span></a>
				<div><ul>
                        <li><a href="#"><span>Day 1</span></a></li>
                        <li><a href="#"><span>Day 2</span></a></li>
                        <li><a href="#"><span>Day 3</span></a></li>
                        <li><a href="#"><span>Day 4</span></a></li>
                        <li><a href="#"><span>Day 5</span></a></li>
                        <li><a href="#"><span>Day 6</span></a></li>
                    </ul></div></li>
					<li><a href="#" class="parent"><span>Chapter 6</span></a>
				<div><ul>
                        <li><a href="#"><span>Day 1</span></a></li>
                        <li><a href="#"><span>Day 2</span></a></li>
                        <li><a href="#"><span>Day 3</span></a></li>
                        <li><a href="#"><span>Day 4</span></a></li>
                        <li><a href="#"><span>Day 5</span></a></li>
                        <li><a href="#"><span>Day 6</span></a></li>
                    </ul></div></li>
					<li><a href="#" class="parent"><span>Chapter 7</span></a>
				<div><ul>
                        <li><a href="#"><span>Day 1</span></a></li>
                        <li><a href="#"><span>Day 2</span></a></li>
                        <li><a href="#"><span>Day 3</span></a></li>
                        <li><a href="#"><span>Day 4</span></a></li>
                        <li><a href="#"><span>Day 5</span></a></li>
                        <li><a href="#"><span>Day 6</span></a></li>
                    </ul></div></li>
					<li><a href="#" class="parent"><span>Chapter 8</span></a>
				<div><ul>
                        <li><a href="#"><span>Day 1</span></a></li>
                        <li><a href="#"><span>Day 2</span></a></li>
                        <li><a href="#"><span>Day 3</span></a></li>
                        <li><a href="#"><span>Day 4</span></a></li>
                        <li><a href="#"><span>Day 5</span></a></li>
                        <li><a href="#"><span>Day 6</span></a></li>
                    </ul></div></li>
            </ul></div>
        </li>
			<li><a href="source.html"><span>Source</span></a></li>
			<li class="last"><a href="feedback.html"><span>Feedback</span></a></li>
		</ul>
	</div>-->
		</td>
          </tr>
        </table></td>
      </tr>
      <tr>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td class="main_content_pad"><table width="100%"  border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td width="309"><table width="100%"  border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td class="subnav">
				<strong>Introduction</strong><br>
&bull;&nbsp;&nbsp;<a href="intro.html">How this book works</a><br>
<div class="divider"></div>
<strong>Setting up</strong><br>
&bull;&nbsp;&nbsp;<a href="setup.html">Making sure you have everything</a><br>
<div class="divider"></div>
<strong>Week 1</strong><br>
<span>&bull; Day 1 </span> - <a href="chap1-1.html"> "Things need to change"</a><br>
<span>&bull; Day 3 </span> - <a href="chap1-2.html"> "A possible solution"</a><br>
<span>&bull; Day 4 </span> - <a href="chap1-3.html"> "A decision is reached"</a><br>
<span>&bull; Day 5 </span> - <a href="chap1-4.html"> "Working like a team"</a><br>
<div class="divider"></div>
<strong>After Hours Week 1</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours1-1.html">"History Lesson"</a><br>
<div class="divider"></div>
<strong>Week 2</strong><br>
<span>&bull; Day 1 </span> - <a href="chap2-1.html"> "We are coders, we use Git!"</a><br>
<span>&bull; Day 2 </span> - <a href="chap2-2.html"> "Making commitments"</a><br>
<span>&bull; Day 4 </span> - <a href="chap2-3.html"> "Let's do this right, not fast"</a><br>
<span>&bull; Summary </span> - <a href="chap2-4.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 2</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours2-1.html">"A Little Of Git's Internals"</a><br>
<div class="divider"></div>
<strong>Week 3</strong><br>
<span>&bull; Day 1 </span> - <a href="chap3-1.html"> "How do I see what's going on?"</a><br>
<span>&bull; Day 2 </span> - <a href="chap3-2.html"> "But I need more information"</a><br>
<span>&bull; Day 3 </span> - <a href="chap3-3.html"> "What actually changed?"</a><br>
<span>&bull; Day 4 </span> - <a href="chap3-4.html"> "Finding a good reference point"</a><br>
<span>&bull; Day 5 </span> - <a href="chap3-5.html"> "Putting things back again"</a><br>
<span>&bull; Summary </span> - <a href="chap3-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 3</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours3-1.html">"A Closer Look At Diffs and Tags"</a><br>
<div class="divider"></div>
<strong>Week 4</strong><br>
<span>&bull; Day 1 </span> - <a href="chap4-1.html"> "We're getting somewhere"</a><br>
<span>&bull; Day 2 </span> - <a href="chap4-2.html"> "Branches galore"</a><br>
<span>&bull; Day 3 </span> - <a href="chap4-3.html"> "Tricking the twigs"</a><br>
<span>&bull; Day 4 </span> - <a href="chap4-4.html"> "I pressed delete..."</a><br>
<span>&bull; Day 5 </span> - <a href="chap4-5.html"> "Conflicting information"</a><br>
<span>&bull; Summary </span> - <a href="chap4-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 4</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours4-1.html">"Merge merge merge"</a><br>
&bull;&nbsp;&nbsp;<a href="afterhours4-2.html">"Grepping your life away"</a><br>
<div class="divider"></div>
<strong>Week 5</strong><br>
<span>&bull; Day 1 </span> - <a href="chap5-1.html"> "This isn't working for me John"</a><br>
<span>&bull; Day 2 </span> - <a href="chap5-2.html"> "Back to logging"</a><br>
<span>&bull; Day 4 </span> - <a href="chap5-3.html"> "Advanced Techniques"</a><br>
<span>&bull; Summary </span> - <a href="chap5-4.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 5</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours5-1.html">"Splitting up commits the easy way"</a><br>
<div class="divider"></div>
<strong>Week 6</strong><br>
<span>&bull; Day 1 </span> - <a href="chap6-1.html"> "My private little stash"</a><br>
<span>&bull; Day 2 </span> - <a href="chap6-2.html"> "What?! No backup?"</a><br>
<span>&bull; Day 3 </span> - <a href="chap6-3.html"> "Is this clone for real?"</a><br>
<span>&bull; Day 4 </span> - <a href="chap6-4.html"> "Help I'm no longer up to date?"</a><br>
<span>&bull; Day 5 </span> - <a href="chap6-5.html"> "I'm putting my foot down"</a><br>
<span>&bull; Summary </span> - <a href="chap6-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 6</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours6-1.html">"Tug of war"</a><br>
&bull;&nbsp;&nbsp;<a href="afterhours6-2.html">"Referring to objects"</a><br>
<div class="divider"></div>
<strong>Week 7</strong><br>
<span>&bull; Day 1 </span> - <a href="chap7-1.html"> "Networking with a difference"</a><br>
<span>&bull; Day 2 </span> - <a href="chap7-2.html"> "Now let's work together"</a><br>
<span>&bull; Day 3 </span> - <a href="chap7-3.html"> "Rebasing our commitments"</a><br>
<span>&bull; Day 4 </span> - <a href="chap7-4.html"> "Starting to get rebased"</a><br>
<span>&bull; Day 5 </span> - <a href="chap7-5.html"> "I could rebase the world"</a><br>
<span>&bull; Summary </span> - <a href="chap7-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 7</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours7-1.html">"Network Communicating"</a><br>
<div class="divider"></div>
<strong>Week 8</strong><br>
<span>&bull; Day 1 </span> - <a href="chap8-1.html"> "Give a man a patch"</a><br>
<span>&bull; Day 2 </span> - <a href="chap8-2.html"> "Looking for problems"</a><br>
<span>&bull; Day 3 </span> - <a href="chap8-3.html"> "Filtered repos"</a><br>
<span>&bull; Day 4 </span> - <a href="chap8-4.html"> "Let's make a library"</a><br>
<span>&bull; Day 5 </span> - <a href="chap8-5.html"> "Shhh....we're in a library"</a><br>
<span>&bull; Summary </span> - <a href="chap8-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 8</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours8-1.html">"Fishing for beginners"</a><br>
<div class="divider"></div>
<strong>A little extra help</strong><br>
&bull;&nbsp;&nbsp;<a href="chap9-1.html">Taking things further</a><br>
&bull;&nbsp;&nbsp;<a href="chap9-2.html">The end of the journey</a><br>
<div class="divider"></div>

				
				<td class="fade_right">&nbsp;</td>
              </tr>
              <tr>
                <td class="fade_bot">&nbsp;</td>
                <td class="fade_corner">&nbsp;</td>
              </tr>
            </table>              <h1>&nbsp;</h1>
              </td>
            <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td class="read_content">
<h1>Week 6</h1><h2>Day 5 - "I'm putting my foot down"</h2>
<h3>Pushing back!</h3>
We now know a lot about remote locations right? We are ready to start collaborating with someone.
Let us first see how Tamagoyaki are getting on with things.<br><div id="trenchblock"><strong>In the trenches...</strong><br>
"But I know I have the remote right Simon, it's giving some weird error about refusing to update it."
Rob was getting more than a little cross now.<br><br>"Maybe you got the command wrong?" asked Simon.<br><br>Rob slammed his hands down on the keyboard,
"Well then you come over here and type it, but I don't understand how hard it is to write git push."
He shook his head, "I even checked using the git remote tool and the push is apparently all set up."<br><br>"Are you trying to push to a non-bare repository?" Chirped Klaus.
He had been listening to the discussion escalate from mild annoyance to key shattering intrusion.
"You can't push to a non-bare repository, else everything gets out of sync."<br><br>"What do you mean bare?" asked Rob.<br><br>Klaus smiled and his head appeared over the cubicle.
"Come over here genius and I'll show you," he said with the slightest amount of gloat at being one of the only people to know something about Git that Rob didn't.
</div><br>Bare? Non-bare? At first glance, this may seem confusing.
It isn't exactly an intuitive word to describe a repository but what Klaus mentioned was absolutely true.
In Git, if you want to push changes back to a repository, instead of pulling them, the repository that you push to should be what is called a <em>bare</em> repository.
What this means is that the repository has no working copy.<br><div id="calloutblock"><h3>Note - Pushing to a non-bare repository</h3>
As mentioned, pushing to a non-bare repository is not a good idea.
When you push to a repository, you update the objects in the objects database.
This will affect commits, blobs and trees.
We should make a distinction here.
We are really only worried about pushing to a branch which is currently checked out.
Pushing to a non-bare repository will mean that the index will get changed, as it should reflect what the branch looks like at HEAD.<br><br>Now this causes a problem when we are trying to see what has been modified in the working directory when compared to the HEAD.
As our working copy will contain older versions of the files than are in the index, it will appear as if many more changes have occurred and we risk undoing those changes.
For these reasons, it is much simpler just to push only to bare repositories.
</div><br>At first glance this may seem like a rather odd thing to want.
Why would we want a repository that doesn't have a working tree? The simple answer is that a <em>bare</em> repository allows us to be able to push changes into it.
Let us recreate the error message that Rob was talking about.<br><div id="codeblock"><strong>john@satsuki:~/coderepo-cl$ echo "This is another update to newfile3" &gt;&gt; newfile3<br></strong>
<strong>john@satsuki:~/coderepo-cl$ git commit -a -m 'Added more to newfile3'<br></strong>
[wonderful dbf1e9a] Added more to newfile3<br>
 1 files changed, 1 insertions(+), 0 deletions(-)<br>
</div><br>We have made a modification to the <strong>wonderful</strong> branch.
So let us now try to push that back to the <strong>origin</strong> remote repository with the <span style="font-family:monospace;">git push</span> command.<br><div id="codeblock"><strong>john@satsuki:~/coderepo-cl$ git push<br></strong>
Counting objects: 5, done.<br>
Compressing objects: 100Writing objects: 100Total 3 (delta 1), reused 0 (delta 0)<br>
Unpacking objects: 100remote: error: refusing to update checked out branch: refs/heads/wonderful<br>
remote: error: By default, updating the current branch in a non-bare repository<br>
remote: error: is denied, because it will make the index and work tree inconsistent<br>
remote: error: with what you pushed, and will require 'git reset --hard' to match<br>
remote: error: the work tree to HEAD.<br>
remote: error:<br>
remote: error: You can set 'receive.denyCurrentBranch' configuration variable to<br>
remote: error: 'ignore' or 'warn' in the remote repository to allow pushing into <br>
remote: error: its current branch; however, this is not recommended unless you <br>
remote: error: arranged to update its work tree to match what you pushed in some<br>
remote: error:  other way.<br>
remote: error:<br>
remote: error: To squelch this message and still keep the default behaviour, set<br>
remote: error: 'receive.denyCurrentBranch' configuration<br>
remote: error: variable to 'refuse'.<br>
To /home/john/coderepo<br>
 ! [remote rejected] wonderful -&gt; wonderful (branch is currently checked out)<br>
error: failed to push some refs to '/home/john/coderepo'<br>
<strong>john@satsuki:~/coderepo-cl$<br></strong>
</div><br>Bingo! There is the error we were looking for.
In order to get round this, we are going to create another clone of the repository in <span style="font-family:monospace;">coderepo</span>.
This time however, we are going to pass an option to it when we create it.<br><div id="codeblock"><strong>john@satsuki:~/coderepo-cl$ cd ..<br></strong>
<strong>john@satsuki:~$ git clone coderepo coderepo-bk --bare<br></strong>
Initialized empty Git repository in /home/john/coderepo-bk/<br>
<strong>john@satsuki:~$ cd coderepo-bk/<br></strong>
<strong>john@satsuki:~/coderepo-bk$ ls<br></strong>
branches  config  description  HEAD  hooks  info  objects<br>
packed-refs  refs<br>
<strong>john@satsuki:~/coderepo-bk$ cd ..<br></strong>
<strong>john@satsuki:~$ cd coderepo-cl/<br></strong>
<strong>john@satsuki:~/coderepo-cl$<br></strong>
</div><br>As you can see, creating the clone with the <span style="font-family:monospace;">--bare</span> option has had a definite effect on the structure of the clone itself.
In fact, the contents of the <span style="font-family:monospace;">coderepo-bk</span> folder look remarkably similar to the <span style="font-family:monospace;">.git</span> folder found in our normal working tree.
They are in fact, one and the same.
We have removed the need for a separate <span style="font-family:monospace;">.git</span> folder because we do not require a working tree.
Therefore, the contents of the <span style="font-family:monospace;">.git</span> folder and placed in the root <span style="font-family:monospace;">coderepo-bk</span> folder.<br><br>We are getting closer to making our push.
We have created a <em>bare</em> repository, which we should now be able to push to.
The problem is, we have not yet defined our new repository as a remote location in the <span style="font-family:monospace;">coderepo-cl</span> repository.
This is something we will do now and to do this, we will use our <span style="font-family:monospace;">git remote</span> tool once more, this time employing the <span style="font-family:monospace;">add</span> parameter.<br><div id="codeblock"><strong>john@satsuki:~/coderepo-cl$ git remote add backup<br></strong>
 /home/john/coderepo-bk<br>
<strong>john@satsuki:~/coderepo-cl$ git remote show backup<br></strong>
* remote backup<br>
  Fetch URL: /home/john/coderepo-bk<br>
  Push  URL: /home/john/coderepo-bk<br>
  HEAD branch: wonderful<br>
  Remote branches:<br>
    master    new (next fetch will store in remotes/backup)<br>
    wonderful new (next fetch will store in remotes/backup)<br>
    zaney     new (next fetch will store in remotes/backup)<br>
  Local refs configured for 'git push':<br>
    master    pushes to master    (up to date)<br>
    wonderful pushes to wonderful (fast-forwardable)<br>
<strong>john@satsuki:~/coderepo-cl$<br></strong>
</div><br>We have created a remote called backup.
As you can see, some interrogation of the remote repository has taken place.
It is already aware of the branches present in our remote location.
Let us do a <span style="font-family:monospace;">git fetch</span> to update the local references.<br><div id="codeblock"><strong>john@satsuki:~/coderepo-cl$ git fetch backup<br></strong>
From /home/john/coderepo-bk<br>
 * [new branch]      master     -&gt; backup/master<br>
 * [new branch]      wonderful  -&gt; backup/wonderful<br>
 * [new branch]      zaney      -&gt; backup/zaney<br>
<strong>john@satsuki:~/coderepo-cl$ git remote show backup<br></strong>
* remote backup<br>
  Fetch URL: /home/john/coderepo-bk<br>
  Push  URL: /home/john/coderepo-bk<br>
  HEAD branch: wonderful<br>
  Remote branches:<br>
    master    tracked<br>
    wonderful tracked<br>
    zaney     tracked<br>
  Local refs configured for 'git push':<br>
    master    pushes to master    (up to date)<br>
    wonderful pushes to wonderful (fast-forwardable)<br>
<strong>john@satsuki:~/coderepo-cl$<br></strong>
</div><br>Now we can see that all of the remote references for our <strong>backup</strong> remote have been updated.
If we run a diff against our local <strong>wonderful</strong> branch and the remote branch <strong>backup/wonderful</strong>, we can see the differences.<br><div id="calloutblock"><h3>Note - Pushing your tags</h3>
By default tags are not pushed when using the <span style="font-family:monospace;">git push</span> command.
If we want our tags to be push to the remote repository as well, we need to append the <span style="font-family:monospace;">--tags</span> parameter to the <span style="font-family:monospace;">git push</span> command.<br><br>In contrast, using <span style="font-family:monospace;">git pull</span> will automatically pull down any tags which refer to any objects that have been pulled.
This behaviour can be overridden by using the <span style="font-family:monospace;">--no-tags</span> parameter with <span style="font-family:monospace;">git pull</span>.
</div><br><div id="codeblock"><strong>john@satsuki:~/coderepo-cl$ git diff wonderful backup/wonderful<br></strong>
diff --git a/newfile3 b/newfile3<br>
index 7268b97..638113c 100644<br>
--- a/newfile3<br>
+++ b/newfile3<br>
@@ -1,2 +1 @@<br>
 These changes are in the origin<br>
-This is another update to newfile3<br>
<strong>john@satsuki:~/coderepo-cl$ git branch -v<br></strong>
</div><br>There we go! Those are the changes we just committed to the local repository.
The last thing we need to do is to initiate a <span style="font-family:monospace;">git push</span>.
We are going to have to define which remote we wish to push to now for two reasons.
The first is that now we have two remotes, and so Git would not know if we meant <strong>origin</strong> or <strong>backup</strong>.
The second reason is that by default, the <strong>wonderful</strong> branch is set up to push to the <strong>origin</strong> remote.<br><div id="codeblock"><strong>john@satsuki:~/coderepo-cl$ git push backup<br></strong>
Counting objects: 5, done.<br>
Compressing objects: 100Writing objects: 100Total 3 (delta 1), reused 0 (delta 0)<br>
Unpacking objects: 100To /home/john/coderepo-bk<br>
   1c3206a..dbf1e9a  wonderful -&gt; wonderful<br>
<strong>john@satsuki:~/coderepo-cl$<br></strong>
</div><br>There we go, we have now managed to push our changes to a remote location.
In this case, we have pushed an update from the <strong>wonderful</strong> branch to the <strong>backup/wonderful branch</strong>.
If we wanted to, we could have pushed our repository to a new branch name, or indeed any of the existing branch names.<br><div id="codeblock"><strong>john@satsuki:~/coderepo-cl$ git push backup wonderful:newbranch<br></strong>
Total 0 (delta 0), reused 0 (delta 0)<br>
To /home/john/coderepo-bk<br>
 * [new branch]      wonderful -&gt; newbranch<br>
<strong>john@satsuki:~/coderepo-cl$ git remote show backup<br></strong>
* remote backup<br>
  Fetch URL: /home/john/coderepo-bk<br>
  Push  URL: /home/john/coderepo-bk<br>
  HEAD branch (remote HEAD is ambiguous, may be one of the following):<br>
    newbranch<br>
    wonderful<br>
  Remote branches:<br>
    master    tracked<br>
    newbranch tracked<br>
    wonderful tracked<br>
    zaney     tracked<br>
  Local refs configured for 'git push':<br>
    master    pushes to master    (up to date)<br>
    wonderful pushes to wonderful (up to date)<br>
<strong>john@satsuki:~/coderepo-cl$<br></strong>
</div><br>By specifying the local and remote branch using the <span style="font-family:monospace;">local:remote</span> syntax, we have told Git to push our local <strong>wonderful</strong> branch to the remote branch called <strong>newbranch</strong>.
As the <strong>newbranch</strong> did not exist in the remote <strong>backup</strong> repository, it was created, as can be seen above.<br><div id="calloutblock"><h3>Note - Killing a remote branch</h3>
Now that we have made branches on the remote end, it is a good idea to know how to delete them also.
After all, if all you ever did was push new branches, pretty soon you may end up with a lot of rubbish in your repository.
To delete a remote branch, all that you need to do is to use the following syntax.<br><div id="codeblock">git push &lt;remote&gt; :&lt;branchname&gt;<br>
</div><br>Notice that we are using the same syntax as before, but not specifying a local branch name, just the remote.
Git interprets this as a call to delete the remote branch.<br><br>If you have a clone of a remote repository and a remote branch is removed, you may see a message like the following if you run <span style="font-family:monospace;">git remote show &lt;remote&gt;</span>;<br><div id="codeblock"> refs/remotes/&lt;remote&gt;/&lt;branchname&gt; stale (use 'git remote prune' to remove)<br>
</div><br>So we can run <span style="font-family:monospace;">git remote prune</span> to remove local references to remote branches that no longer exist.
If you have created a tracking branch of this remote branch, this will remain unaffected.
</div><br>So this ends the Week.
We have learnt a lot more about how to play with branches and remotes.
In the <em>After Hours</em> section, we will take a deeper look at remote branches and how they are configured and represented in Git.<br><br><table border="0" cellpadding="0" cellspacing="0" width="100%">
					<tr>
						<td><p align="left"><a href="chap6-4.html"><img src="images/prev.png" alt="Previous Day" height="29"></a></p></td>
						<td><p align="right"><a href="chap6-6.html"><img src="images/next.png" alt="Next Day" height="29"></a></p></td>
					</tr>
				</table>                  </td>
                <td class="fade_right">&nbsp;</td>
              </tr>
              <tr>
                <td class="fade_bot">&nbsp;</td>
                <td class="fade_corner">&nbsp;</td>
              </tr>
            </table></td>
          </tr>
        </table></td>
      </tr>
      <tr>
        <td class="foot"><a href="index.html">home</a> | <a href="download.html">download</a> | <a href="read.html">read now</a> | <a href="source.html">source</a> | <a href="feedback.html">feedback</a> | <a href="legal.html">legal stuff</a><br>
          <!--menu provided by <a href="http://apycom.com/">Apycom jQuery Menus</a>--></td>
      </tr>
    </table></td>
  </tr>
</table>
</body>
</html>
