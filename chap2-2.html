<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Git In The Trenches</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
<link type="text/css" href="menu.css" rel="stylesheet" />
	<script type="text/javascript" src="jquery.js"></script>
</head>

<body>
<table width="1000" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr>
    <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td class="logo"><a href="index.html"><img src="images/git_logo_new.png" alt="Git In The Trenches" height="61" border="0"></a></td>
            <td class="nav">
				<a href="index.html">Home</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="download.html">Download Now</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="intro.html">Read Now</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="http://github.com/cbx33/gitt">Source</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="feedback.html">Feeback</a>
			</td>
          </tr>
        </table></td>
      </tr>
      <tr>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td class="main_content_pad"><table width="100%"  border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td width="309"><table width="100%"  border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td class="subnav">
				<strong>Introduction</strong><br>
&bull;&nbsp;&nbsp;<a href="intro.html">How this book works</a><br>
<div class="divider"></div>
<strong>Setting up</strong><br>
&bull;&nbsp;&nbsp;<a href="setup.html">Making sure you have everything</a><br>
<div class="divider"></div>
<strong>Week 1</strong><br>
<span>&bull; Day 1 </span> - <a href="chap1-1.html"> "Things need to change"</a><br>
<span>&bull; Day 3 </span> - <a href="chap1-2.html"> "A possible solution"</a><br>
<span>&bull; Day 4 </span> - <a href="chap1-3.html"> "A decision is reached"</a><br>
<span>&bull; Day 5 </span> - <a href="chap1-4.html"> "Working like a team"</a><br>
<div class="divider"></div>
<strong>After Hours Week 1</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours1-1.html">"History Lesson"</a><br>
<div class="divider"></div>
<strong>Week 2</strong><br>
<span>&bull; Day 1 </span> - <a href="chap2-1.html"> "We are coders, we use Git!"</a><br>
<span>&bull; Day 2 </span> - <a href="chap2-2.html"> "Making commitments"</a><br>
<span>&bull; Day 4 </span> - <a href="chap2-3.html"> "Let's do this right, not fast"</a><br>
<span>&bull; Summary </span> - <a href="chap2-4.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 2</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours2-1.html">"A Little Of Git's Internals"</a><br>
<div class="divider"></div>
<strong>Week 3</strong><br>
<span>&bull; Day 1 </span> - <a href="chap3-1.html"> "How do I see what's going on?"</a><br>
<span>&bull; Day 2 </span> - <a href="chap3-2.html"> "But I need more information"</a><br>
<span>&bull; Day 3 </span> - <a href="chap3-3.html"> "What actually changed?"</a><br>
<span>&bull; Day 4 </span> - <a href="chap3-4.html"> "Finding a good reference point"</a><br>
<span>&bull; Day 5 </span> - <a href="chap3-5.html"> "Putting things back again"</a><br>
<span>&bull; Summary </span> - <a href="chap3-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 3</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours3-1.html">"A Closer Look At Diffs and Tags"</a><br>
<div class="divider"></div>
<strong>Week 4</strong><br>
<span>&bull; Day 1 </span> - <a href="chap4-1.html"> "We're getting somewhere"</a><br>
<span>&bull; Day 2 </span> - <a href="chap4-2.html"> "Branches galore"</a><br>
<span>&bull; Day 3 </span> - <a href="chap4-3.html"> "Tricking the twigs"</a><br>
<span>&bull; Day 4 </span> - <a href="chap4-4.html"> "I pressed delete..."</a><br>
<span>&bull; Day 5 </span> - <a href="chap4-5.html"> "Conflicting information"</a><br>
<span>&bull; Summary </span> - <a href="chap4-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 4</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours4-1.html">"Merge merge merge"</a><br>
&bull;&nbsp;&nbsp;<a href="afterhours4-2.html">"Grepping your life away"</a><br>
<div class="divider"></div>
<strong>Week 5</strong><br>
<span>&bull; Day 1 </span> - <a href="chap5-1.html"> "This isn't working for me John"</a><br>
<span>&bull; Day 2 </span> - <a href="chap5-2.html"> "Back to logging"</a><br>
<span>&bull; Day 4 </span> - <a href="chap5-3.html"> "Advanced Techniques"</a><br>
<span>&bull; Summary </span> - <a href="chap5-4.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 5</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours5-1.html">"Splitting up commits the easy way"</a><br>
<div class="divider"></div>
<strong>Week 6</strong><br>
<span>&bull; Day 1 </span> - <a href="chap6-1.html"> "My private little stash"</a><br>
<span>&bull; Day 2 </span> - <a href="chap6-2.html"> "What?! No backup?"</a><br>
<span>&bull; Day 3 </span> - <a href="chap6-3.html"> "Is this clone for real?"</a><br>
<span>&bull; Day 4 </span> - <a href="chap6-4.html"> "Help I'm no longer up to date?"</a><br>
<span>&bull; Day 5 </span> - <a href="chap6-5.html"> "I'm putting my foot down"</a><br>
<span>&bull; Summary </span> - <a href="chap6-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 6</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours6-1.html">"Tug of war"</a><br>
&bull;&nbsp;&nbsp;<a href="afterhours6-2.html">"Referring to objects"</a><br>
<div class="divider"></div>
<strong>Week 7</strong><br>
<span>&bull; Day 1 </span> - <a href="chap7-1.html"> "Networking with a difference"</a><br>
<span>&bull; Day 2 </span> - <a href="chap7-2.html"> "Now let's work together"</a><br>
<span>&bull; Day 3 </span> - <a href="chap7-3.html"> "Rebasing our commitments"</a><br>
<span>&bull; Day 4 </span> - <a href="chap7-4.html"> "Starting to get rebased"</a><br>
<span>&bull; Day 5 </span> - <a href="chap7-5.html"> "I could rebase the world"</a><br>
<span>&bull; Summary </span> - <a href="chap7-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 7</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours7-1.html">"Network Communicating"</a><br>
<div class="divider"></div>
<strong>Week 8</strong><br>
<span>&bull; Day 1 </span> - <a href="chap8-1.html"> "Give a man a patch"</a><br>
<span>&bull; Day 2 </span> - <a href="chap8-2.html"> "Looking for problems"</a><br>
<span>&bull; Day 3 </span> - <a href="chap8-3.html"> "Filtered repos"</a><br>
<span>&bull; Day 4 </span> - <a href="chap8-4.html"> "Let's make a library"</a><br>
<span>&bull; Day 5 </span> - <a href="chap8-5.html"> "Shhh....we're in a library"</a><br>
<span>&bull; Summary </span> - <a href="chap8-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 8</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours8-1.html">"Fishing for beginners"</a><br>
<div class="divider"></div>
<strong>A little extra help</strong><br>
&bull;&nbsp;&nbsp;<a href="chap9-1.html">Taking things further</a><br>
&bull;&nbsp;&nbsp;<a href="chap9-2.html">The end of the journey</a><br>
<div class="divider"></div>

				
				<td class="fade_right">&nbsp;</td>
              </tr>
              <tr>
                <td class="fade_bot">&nbsp;</td>
                <td class="fade_corner">&nbsp;</td>
              </tr>
            </table>              <h1>&nbsp;</h1>
              </td>
            <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td class="read_content">
<h1>Week 2</h1><h2>Day 2 - "Making commitments"</h2>
<h3>Let's work on our repository</h3>
The most simple way of committing a file into the repository is to create it, or copy it to the working copy of our repository and use the commands below.
The working copy is the version of the repository we have currently checked out.
This terminology will be explained more later on.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ touch my_first_committed_file</strong><br>
<strong>john@satsuki:~/coderepo$ git add my_first_committed_file</strong><br>
<strong>john@satsuki:~/coderepo$ git commit -m 'My First Ever Commit'</strong><br>
[master (root-commit) cfe23cb] My First Ever Commit<br>
 0 files changed, 0 insertions(+), 0 deletions(-)<br>
 create mode 100644 my_first_committed_file<br>
<strong>john@satsuki:~/coderepo$</strong><br>
</code></div><br>What we have done here, is to create a new blank file, using the unix <code class="ncode">touch</code> command and add it into the repository using the <code class="ncode">git add</code> command.
Windows users note, you will not have the touch command in your default command set, but if you are using Git Bash from the msysgit package, you should have it available to you.
Then we have committed it into the repository using the <code class="ncode">git commit</code> command.
Let's make a few changes to our working copy and see what the result is.
First we are going to add another two new files, then we are going to make changes to our original file and finally we are going to run git status to see what Git has to say about our changes.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ echo "Change1" &gt; my_first_committed_file</strong><br>
<strong>john@satsuki:~/coderepo$ touch my_second_committed_file</strong><br>
<strong>john@satsuki:~/coderepo$ touch my_third_committed_file</strong><br>
<strong>john@satsuki:~/coderepo$ git status</strong><br>
# On branch master<br>
# Changed but not updated:<br>
#   (use "git add &lt;file&gt;..." to update what will be committed)<br>
#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)<br>
#<br>
#	modified:   my_first_committed_file<br>
#<br>
# Untracked files:<br>
#   (use "git add &lt;file&gt;..." to include in what will be committed)<br>
#<br>
#	my_second_committed_file<br>
#	my_third_committed_file<br>
no changes added to commit (use "git add" and/or "git commit -a")<br>
<strong>john@satsuki:~/coderepo$</strong><br>
</code></div><br>So we can see that <code class="ncode">git status</code> is reporting that there are changes to our first committed file, and that our second and third files are <strong>untracked</strong>.
Untracked files are ones which Git detects as being present in the working directory, but which haven't yet been added and there for upon running a commit, these files will not be added to the repository.
Notice that if we tried to run a commit now, nothing would actually be committed to the repository.
Even though there are changes to to my_first_committed_file, we have not asked Git to include these.
So, let's go ahead and do that, and at the same time we'll make a few changes to my_second_committed_file, and add those too.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ git add my_first_committed_file</strong><br>
<strong>john@satsuki:~/coderepo$ echo "Change1" &gt; my_second_committed_file</strong><br>
<strong>john@satsuki:~/coderepo$ git add my_second_committed_file</strong><br>
<strong>john@satsuki:~/coderepo$ git status</strong><br>
# On branch master<br>
# Changes to be committed:<br>
#   (use "git reset HEAD &lt;file&gt;..." to unstage)<br>
#<br>
#	modified:   my_first_committed_file<br>
#	new file:   my_second_committed_file<br>
#<br>
# Untracked files:<br>
#   (use "git add &lt;file&gt;..." to include in what will be committed)<br>
#<br>
#	my_third_committed_file<br>
<strong>john@satsuki:~/coderepo$</strong><br>
</code></div><br>Now we can see that one of the sections has changed to "Changes to be committed".
So this means that Git has recognised and remembered that we are expecting these files to be committed when we next run a <code class="ncode">git commit</code>.<br><h3>Committing the Uncommitted</h3>
<div id="trenchblock"><strong>In the trenches...</strong><br>
"John, what is going on here?" shouted Klaus from across the hallway.
The entire office had heard Klaus banging his hands down on the desk for the last fifteen minutes.
"John!" the shout turned into a scream.<br><br>"Calm down Klaus, I'm just coming."
John walked over to Klaus and pulled up one of the folding plastic chairs.
After a few minutes of fumbling he finally managed to take up his position next to an infuriated Klaus.<br><br>"John, Git is driving me crazy. I have added files to the repository and I keep running a commit, but the changes aren't getting put into the blasted repo."
Klaus was clearly distressed and John resisted the urge make jokes.<br><br>John pointed at the screen.
"Run a git status Klaus and I'll show you what the problem is."
</div><br>To understand what Klaus was getting in a spin about, let's make a change to <code class="ncode">my_second_committed_file</code> now and see how this affects things.
Remember we have already added the file, but we haven't yet made a commit.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ echo "Change2" &gt;&gt; my_second_committed_file</strong><br>
<strong>john@satsuki:~/coderepo$ git status</strong><br>
# On branch master<br>
# Changes to be committed:<br>
#   (use "git reset HEAD &lt;file&gt;..." to unstage)<br>
#<br>
#	modified:   my_first_committed_file<br>
#	new file:   my_second_committed_file<br>
#<br>
# Changed but not updated:<br>
#   (use "git add &lt;file&gt;..." to update what will be committed)<br>
#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)<br>
#<br>
#	modified:   my_second_committed_file<br>
#<br>
# Untracked files:<br>
#   (use "git add &lt;file&gt;..." to include in what will be committed)<br>
#<br>
#	my_third_committed_file<br>
<strong>john@satsuki:~/coderepo$</strong><br>
</code></div><br>How interesting! We now have three sections and one of our files appears twice under both Changes to be committed and Changed but not updated.
What does this mean? If you remember back, we spoke about a staging area.
This is one area in which Git differs to many version control systems.
When you <strong>add</strong> a file into the repository, Git will actually make a copy of that file and move it into the staging area.
If you then go ahead and change that file, you would need to run another git add in order for Git to copy your changed file into the staging area.
The most important thing to remember is that Git will only ever commit what is in the staging area.<br><br>So, if we go ahead and run our commit now, we will only have the changes marked in Changes to be committed appearing in our repository.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ git commit -m 'Made a few changes to first and second files'</strong><br>
[master 163f061] Made a few changes to first and second files<br>
 2 files changed, 2 insertions(+), 0 deletions(-)<br>
 create mode 100644 my_second_committed_file<br>
<strong>john@satsuki:~/coderepo$</strong><br>
</code></div><br>In our examples, we have used the syntax <code class="ncode">git commit -m 'Message'</code>.
This is a slightly special way of committing, it allows us to specify our commit log message on the command line.
If we wanted to, we could run the command git commit and this would open a text editor that we could use to input our commands.<br><br>Let us finish off our round of committing by using the <code class="ncode">git commit -a</code> option.
This commits all of the changes to files which are already tracked.
Consequently we do not have to specify the files with <code class="ncode">git add</code>, like we have had to previously.
Any file which has been modified and has previously been added to the repository, will have it's changes committed upon running that command.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ git status</strong><br>
# On branch master<br>
# Changed but not updated:<br>
#   (use "git add &lt;file&gt;..." to update what will be committed)<br>
#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)<br>
#<br>
#	modified:   my_second_committed_file<br>
#<br>
# Untracked files:<br>
#   (use "git add &lt;file&gt;..." to include in what will be committed)<br>
#<br>
#	my_third_committed_file<br>
no changes added to commit (use "git add" and/or "git commit -a")<br>
<strong>john@satsuki:~/coderepo$</strong><br>
</code></div><br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ git commit -a -m 'Finished adding</strong><br>
 initial files'<br>
[master 9938a0c] Finished adding initial files<br>
 1 files changed, 1 insertions(+), 0 deletions(-)<br>
<strong>john@satsuki:~/coderepo$</strong><br>
</code></div><br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ git status</strong><br>
# On branch master<br>
# Untracked files:<br>
#   (use "git add &lt;file&gt;..." to include in what will be committed)<br>
#<br>
#	my_third_committed_file<br>
nothing added to commit but untracked files present (use "git add" to track)<br>
<strong>john@satsuki:~/coderepo$</strong><br>
</code></div><br><table border="0" cellpadding="0" cellspacing="0" width="100%">
					<tr>
						<td><p align="left"><a href="chap2-1.html"><img src="images/prev.png" alt="Previous Day" height="29" border="0"></a></p></td>
						<td><p align="right"><a href="chap2-3.html"><img src="images/next.png" alt="Next Day" height="29" border="0"></a></p></td>
					</tr>
				</table>                  </td>
                <td class="fade_right">&nbsp;</td>
              </tr>
              <tr>
                <td class="fade_bot">&nbsp;</td>
                <td class="fade_corner">&nbsp;</td>
              </tr>
            </table></td>
            </tr>
          </table>
		</td>
      </tr>
      <tr>
        <td class="foot"><a href="index.html">home</a> | <a href="download.html">download</a> | <a href="read.html">read now</a> | <a href="source.html">source</a> | <a href="feedback.html">feedback</a> | <a href="legal.html">legal stuff</a><br>
        </td>
      </tr>
    </table></td>
  </tr>
</table>
</body>
</html>
