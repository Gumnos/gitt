<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Git In The Trenches</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
<link type="text/css" href="menu.css" rel="stylesheet" />
	<script type="text/javascript" src="jquery.js"></script>
</head>

<body>
<table width="1000" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr>
    <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td class="logo"><a href="index.html"><img src="images/git_logo_new.png" alt="Git In The Trenches" height="61" border="0"></a></td>
            <td class="nav">
				<a href="index.html">Home</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="download.html">Download Now</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="intro.html">Read Now</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="http://github.com/cbx33/gitt">Source</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="feedback.html">Feeback</a>
			</td>
          </tr>
        </table></td>
      </tr>
      <tr>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td class="main_content_pad"><table width="100%"  border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td width="309"><table width="100%"  border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td class="subnav">
				<strong>Introduction</strong><br>
&bull;&nbsp;&nbsp;<a href="intro.html">How this book works</a><br>
<div class="divider"></div>
<strong>Setting up</strong><br>
&bull;&nbsp;&nbsp;<a href="setup.html">Making sure you have everything</a><br>
<div class="divider"></div>
<strong>Week 1</strong><br>
<span>&bull; Day 1 </span> - <a href="chap1-1.html"> "Things need to change"</a><br>
<span>&bull; Day 3 </span> - <a href="chap1-2.html"> "A possible solution"</a><br>
<span>&bull; Day 4 </span> - <a href="chap1-3.html"> "A decision is reached"</a><br>
<span>&bull; Day 5 </span> - <a href="chap1-4.html"> "Working like a team"</a><br>
<div class="divider"></div>
<strong>After Hours Week 1</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours1-1.html">"History Lesson"</a><br>
<div class="divider"></div>
<strong>Week 2</strong><br>
<span>&bull; Day 1 </span> - <a href="chap2-1.html"> "We are coders, we use Git!"</a><br>
<span>&bull; Day 2 </span> - <a href="chap2-2.html"> "Making commitments"</a><br>
<span>&bull; Day 4 </span> - <a href="chap2-3.html"> "Let's do this right, not fast"</a><br>
<span>&bull; Summary </span> - <a href="chap2-4.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 2</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours2-1.html">"A Little Of Git's Internals"</a><br>
<div class="divider"></div>
<strong>Week 3</strong><br>
<span>&bull; Day 1 </span> - <a href="chap3-1.html"> "How do I see what's going on?"</a><br>
<span>&bull; Day 2 </span> - <a href="chap3-2.html"> "But I need more information"</a><br>
<span>&bull; Day 3 </span> - <a href="chap3-3.html"> "What actually changed?"</a><br>
<span>&bull; Day 4 </span> - <a href="chap3-4.html"> "Finding a good reference point"</a><br>
<span>&bull; Day 5 </span> - <a href="chap3-5.html"> "Putting things back again"</a><br>
<span>&bull; Summary </span> - <a href="chap3-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 3</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours3-1.html">"A Closer Look At Diffs and Tags"</a><br>
<div class="divider"></div>
<strong>Week 4</strong><br>
<span>&bull; Day 1 </span> - <a href="chap4-1.html"> "We're getting somewhere"</a><br>
<span>&bull; Day 2 </span> - <a href="chap4-2.html"> "Branches galore"</a><br>
<span>&bull; Day 3 </span> - <a href="chap4-3.html"> "Tricking the twigs"</a><br>
<span>&bull; Day 4 </span> - <a href="chap4-4.html"> "I pressed delete..."</a><br>
<span>&bull; Day 5 </span> - <a href="chap4-5.html"> "Conflicting information"</a><br>
<span>&bull; Summary </span> - <a href="chap4-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 4</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours4-1.html">"Merge merge merge"</a><br>
&bull;&nbsp;&nbsp;<a href="afterhours4-2.html">"Grepping your life away"</a><br>
<div class="divider"></div>
<strong>Week 5</strong><br>
<span>&bull; Day 1 </span> - <a href="chap5-1.html"> "This isn't working for me John"</a><br>
<span>&bull; Day 2 </span> - <a href="chap5-2.html"> "Back to logging"</a><br>
<span>&bull; Day 4 </span> - <a href="chap5-3.html"> "Advanced Techniques"</a><br>
<span>&bull; Summary </span> - <a href="chap5-4.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 5</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours5-1.html">"Splitting up commits the easy way"</a><br>
<div class="divider"></div>
<strong>Week 6</strong><br>
<span>&bull; Day 1 </span> - <a href="chap6-1.html"> "My private little stash"</a><br>
<span>&bull; Day 2 </span> - <a href="chap6-2.html"> "What?! No backup?"</a><br>
<span>&bull; Day 3 </span> - <a href="chap6-3.html"> "Is this clone for real?"</a><br>
<span>&bull; Day 4 </span> - <a href="chap6-4.html"> "Help I'm no longer up to date?"</a><br>
<span>&bull; Day 5 </span> - <a href="chap6-5.html"> "I'm putting my foot down"</a><br>
<span>&bull; Summary </span> - <a href="chap6-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 6</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours6-1.html">"Tug of war"</a><br>
&bull;&nbsp;&nbsp;<a href="afterhours6-2.html">"Referring to objects"</a><br>
<div class="divider"></div>
<strong>Week 7</strong><br>
<span>&bull; Day 1 </span> - <a href="chap7-1.html"> "Networking with a difference"</a><br>
<span>&bull; Day 2 </span> - <a href="chap7-2.html"> "Now let's work together"</a><br>
<span>&bull; Day 3 </span> - <a href="chap7-3.html"> "Rebasing our commitments"</a><br>
<span>&bull; Day 4 </span> - <a href="chap7-4.html"> "Starting to get rebased"</a><br>
<span>&bull; Day 5 </span> - <a href="chap7-5.html"> "I could rebase the world"</a><br>
<span>&bull; Summary </span> - <a href="chap7-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 7</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours7-1.html">"Network Communicating"</a><br>
<div class="divider"></div>
<strong>Week 8</strong><br>
<span>&bull; Day 1 </span> - <a href="chap8-1.html"> "Give a man a patch"</a><br>
<span>&bull; Day 2 </span> - <a href="chap8-2.html"> "Looking for problems"</a><br>
<span>&bull; Day 3 </span> - <a href="chap8-3.html"> "Filtered repos"</a><br>
<span>&bull; Day 4 </span> - <a href="chap8-4.html"> "Let's make a library"</a><br>
<span>&bull; Day 5 </span> - <a href="chap8-5.html"> "Shhh....we're in a library"</a><br>
<span>&bull; Summary </span> - <a href="chap8-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 8</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours8-1.html">"Fishing for beginners"</a><br>
<div class="divider"></div>
<strong>A little extra help</strong><br>
&bull;&nbsp;&nbsp;<a href="chap9-1.html">Taking things further</a><br>
&bull;&nbsp;&nbsp;<a href="chap9-2.html">The end of the journey</a><br>
<div class="divider"></div>

				
				<td class="fade_right">&nbsp;</td>
              </tr>
              <tr>
                <td class="fade_bot">&nbsp;</td>
                <td class="fade_corner">&nbsp;</td>
              </tr>
            </table>              <h1>&nbsp;</h1>
              </td>
            <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td class="read_content">
<h1>Week 8</h1><h2>Day 3 - "Filtered repos"</h2>
<h3>Looking at a repo with rose tinted glasses</h3>
It does happen. Sometimes when people are under pressure, mistakes are made, just like earlier when we accidently deleted our branch from the repository.
This time the mistake is a little more crucial but again it does happen and it sometimes goes a long time before it is noticed.<br><div id="trenchblock"><strong>In the trenches...</strong><br>
"So it's been in there for how long?" asked John.<br><br>Simon looked pretty sheepish as he mouthed the words, "Weeks."<br><br>John bit on the end of the pen in his hand.
His teeth chewed into the plastic, deforming the blue lid.
"Did you find a way of sorting it out yet?"<br><br>"I think so. It's not ideal, but I think so."
</div><br>It would be useful if we could rewrite the history to remove the information that we wanted to.
As it turns out there is a tool that we can use to do this.
The <code class="ncode">git filter-branch</code> allows us to run operations on a branch to rewrite its history.
Hopefully you are already remembering about the care we need to take when rewriting history, but sometimes there is a real need to perform some of these operations.
Let us take a look at a few examples to see how this can work.
We are going to assume that our file <code class="ncode">newfile1</code> contains some very sensitive information and we wish to remove it completely from the repository.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ git checkout master</strong><br>
Already on 'master'<br>
<strong>john@satsuki:~/coderepo$ ls -la</strong><br>
total 40<br>
drwxr-xr-x  3 john john 4096 2011-07-27 19:54 .<br>
drwxr-xr-x 32 john john 4096 2011-07-27 19:00 ..<br>
-rw-r--r--  1 john john   35 2011-07-22 07:15 another_file<br>
-rw-r--r--  1 john john   25 2011-07-22 07:15 cont_dev<br>
drwxrwxr-x  9 john john 4096 2011-07-27 19:54 .git<br>
-rw-r--r--  1 john john   69 2011-07-27 19:54 newfile1<br>
-rw-r--r--  1 john john   58 2011-07-22 07:15 newfile2<br>
-rw-r--r--  1 john john   45 2011-07-22 07:15 newfile3<br>
-rw-r--r--  1 john john    8 2011-03-31 22:15 temp_file<br>
-rwxrwxr-x  1 john john  114 2011-07-21 21:17 test.sh<br>
<strong>john@satsuki:~/coderepo$ </strong><br>
</code></div><br>As you can see, currently we have <code class="ncode">newfile1</code> in our tree.
We can also use the <code class="ncode">git log</code> tool to see each commit which has touched that path.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ git log --pretty=oneline master -- newfile1</strong><br>
9cb2af2a00fd2253060e6bf8cc6c377b3d55ecea Important Update<br>
d50ffb2fa536d869f2c4e89e8d6a48e0a29c5cc1 Merged in zaney<br>
a27d49ef11d9f0e66edbad8f6c7806510ad5b2be Made an awesome change<br>
cfbecabb031696a217b77b0e1285f2d5fc2ea2a3 Fantastic new feature<br>
55fb69f4ad26fdb6b90ac6f43431be40779962dd Added two new files<br>
<strong>john@satsuki:~/coderepo$</strong><br>
</code></div><br>So there were five commits in the past which have touched that path.
In our example we require the removal of this path from the entire history of the repository.
As this is a destructive operation that works on the current branch, meaning it will rewrite our branch HEAD, we are first going to switch into a new branch.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ git checkout -b remove_file</strong><br>
Switched to a new branch 'remove_file'<br>
<strong>john@satsuki:~/coderepo$ </strong><br>
</code></div><br>Now we need to run the <code class="ncode">git filter-branch</code> tool.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ git filter-branch --index-filter 'git rm --cached --ignore-unmatch newfile1' HEAD</strong><br>
Rewrite 55fb69f4ad26fdb6b90ac6f43431be40779962dd (6/21)rm 'newfile1'<br>
Rewrite 9710177657ae00665ca8f8027b17314346a5b1c4 (7/21)rm 'newfile1'<br>
Rewrite 4ac92012609cf8ed2480aa5d7f807caf2545fe2f (8/21)rm 'newfile1'<br>
Rewrite cfbecabb031696a217b77b0e1285f2d5fc2ea2a3 (9/21)rm 'newfile1'<br>
Rewrite b119573f4508514c55e1c4e3bebec0ab3667d071 (10/21)rm 'newfile1'<br>
Rewrite ed2301ba223a63a5a930b536a043444e019460a7 (11/21)rm 'newfile1'<br>
Rewrite a27d49ef11d9f0e66edbad8f6c7806510ad5b2be (12/21)rm 'newfile1'<br>
Rewrite 7cc32dbf121f2afa8c40337db54bafb26de5b9c4 (13/21)rm 'newfile1'<br>
Rewrite d50ffb2fa536d869f2c4e89e8d6a48e0a29c5cc1 (14/21)rm 'newfile1'<br>
Rewrite 9cb2af2a00fd2253060e6bf8cc6c377b3d55ecea (15/21)rm 'newfile1'<br>
Rewrite 37950f861a3cc0868c65ee9571fc6c491aa689ea (16/21)rm 'newfile1'<br>
Rewrite 1c3206aac0fb012bfdaf5ff00e320b565bb89e7d (17/21)rm 'newfile1'<br>
Rewrite 1968324ce2899883fca76bc25496bcf2b15e7011 (18/21)rm 'newfile1'<br>
Rewrite f8d5100142b43ffaba9bbd539ba4fd92af79bf0e (19/21)rm 'newfile1'<br>
Rewrite a8281fb589e36389cc8cb0da7ebee225b4d1adfc (20/21)rm 'newfile1'<br>
Rewrite 30900fe1b7e72411dabab8b02070f36e2431f704 (21/21)rm 'newfile1'<br>
<br>
Ref 'refs/heads/remove_file' was rewritten<br>
<strong>john@satsuki:~/coderepo$</strong><br>
</code></div><br>We have passed a few parameters to <code class="ncode">git filter-branch</code> and we should take a few seconds to discuss this as the syntax may seem a little strange.
Firstly we are invoking the <code class="ncode">git filter-branch</code> tool, that should not be anything new at all.
Next, we are passing three parameters to it.
The first of these is the type of filter we wish to use.
In our case we have used the <code class="ncode">--index-filter</code> option.
More information is available in the Git manual, but in a nutshell we have asked Git to work on the <em>index</em> at each commit stage.
There is another similar option called <code class="ncode">--tree-filter</code>, however care must be taken to distinguish between the two as using <code class="ncode">--tree-filter</code> checks out the commit at each point in history.
This may not sound like a problem, until you discover that as well as checking each revision out, it also automatically adds any untracked files in the working tree and commits them.<br><br>The next parameter is the actual command that we wish Git to perform on each revision.
In this case we want to <code class="ncode">git rm --cached --ignore-unmatch newfile1</code> each time.
We have enclosed the command we wish to run inside quotes so that Git does not get confused with which parameters are part of the <code class="ncode">filter-branch</code> and which are part of the <code class="ncode">rm</code>.
Using these options we have asked Git to work on just the <em>index</em> and not to complain if it can not find the file to delete.<br><br>Lastly we list the commit range we wish to filter.
In this case we have specified the target revision as <code class="ncode">HEAD</code>.
Git will interpret this as meaning everything up to the <code class="ncode">HEAD</code> revision.
As such Git will be rewriting the entire history of the branch.<br><br>Now if we list the files in the directory, we can see something important has happened.
The file that we wanted removed, has gone and <code class="ncode">newfile1</code> is no more.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ ls -la</strong><br>
total 36<br>
drwxr-xr-x  3 john john 4096 2011-07-27 19:53 .<br>
drwxr-xr-x 32 john john 4096 2011-07-27 19:00 ..<br>
-rw-r--r--  1 john john   35 2011-07-22 07:15 another_file<br>
-rw-r--r--  1 john john   25 2011-07-22 07:15 cont_dev<br>
drwxrwxr-x  9 john john 4096 2011-07-27 19:53 .git<br>
-rw-r--r--  1 john john   58 2011-07-22 07:15 newfile2<br>
-rw-r--r--  1 john john   45 2011-07-22 07:15 newfile3<br>
-rw-r--r--  1 john john    8 2011-03-31 22:15 temp_file<br>
-rwxrwxr-x  1 john john  114 2011-07-21 21:17 test.sh<br>
<strong>john@satsuki:~/coderepo$</strong><br>
</code></div><br>Re-running the log command we ran earlier against our new branch confirms our operation.
However checking out the <strong>master</strong> also confirms that the file is still present elsewhere.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ git log --pretty=oneline remove_file -- newfile1</strong><br>
<strong>john@satsuki:~/coderepo$ git checkout master</strong><br>
Switched to branch 'master'<br>
<strong>john@satsuki:~/coderepo$ ls -la</strong><br>
total 40<br>
drwxr-xr-x  3 john john 4096 2011-07-27 19:54 .<br>
drwxr-xr-x 32 john john 4096 2011-07-27 19:00 ..<br>
-rw-r--r--  1 john john   35 2011-07-22 07:15 another_file<br>
-rw-r--r--  1 john john   25 2011-07-22 07:15 cont_dev<br>
drwxrwxr-x  9 john john 4096 2011-07-27 19:54 .git<br>
-rw-r--r--  1 john john   69 2011-07-27 19:54 newfile1<br>
-rw-r--r--  1 john john   58 2011-07-22 07:15 newfile2<br>
-rw-r--r--  1 john john   45 2011-07-22 07:15 newfile3<br>
-rw-r--r--  1 john john    8 2011-03-31 22:15 temp_file<br>
-rwxrwxr-x  1 john john  114 2011-07-21 21:17 test.sh<br>
<strong>john@satsuki:~/coderepo$</strong><br>
</code></div><br>It should be stressed at this point how destructive the <code class="ncode">git filter-branch</code> command can be to your repository.
The <strong>master</strong> and <strong>remove_file</strong> branches have diverged from the point where <code class="ncode">newfile1</code> was first introduced.
Consequently all of our other branches, such as <strong>zaney</strong> and <strong>wonderful</strong> still refer to the <strong>master</strong> branch.
We would also have to rewrite those branches too, but because of the rewriting of commit objects, we could lose the relationships between the branches and their ancestors.
In short, though it is exceedingly powerful, this type of filtering can cause huge distress to other people working on the project.<br><div id="trenchblock"><strong>In the trenches...</strong><br>
"So what do we do?" asked John.
"We can't push out the repo as it is because it contains the API key."
He massaged his forehead moving down to his eyebrows.
"But we seem to be introducing a real headache if we filter the branch. Any suggestions?"<br><br>"Well the project is going to be finished in a few weeks right?" Simon was sitting at the end of the table.
He was ashamed and was talking through a pair of hands deperately trying to conceal his identity.<br><br>"Yeh, but what the hell has that got to do with it?" snorted Klaus.<br><br>"I'm just thinking that we leave the repo like it is until all development has finished," he paused to run his hands through his hair,
"then we filter the branch just before we release it."
He looked over at John, "At that point there shouldn't be any test or dev branches, and we can just get everyone to clone the repo if we need to do anything else."<br><br>John nodded.  "You know Simon I think you may have just redeemed yourself."
</div><br><div id="calloutblock"><h3>Note - Since you've been gone</h3>
Even though we have rewritten our tree, the fact that another branch still has the file present means that our potentially senitive data still exists somewhere inside the repository.
In order to truly get rid of the file we would need to not only remove the file from all branches, or delete the branches that contained the file,
but also run a few more steps if we wanted to ensure the file was gone <em>now</em>.
Be aware that these steps are potentially very destructive to a repository.
The best way to remove the file completely would be to remove ALL references to the file and then clone the repository.
Git will not clone objects into a new repository if nothing references them.
Alternatively if you absolutely must work on the current repository, you would need to do the following.<br><br>Delete the <code class="ncode">filter-branch</code> backup using <code class="ncode">git update-ref &lt;refname&gt; -d</code>.  (See the callout on <em>More backups</em>)<br><br>Expire all reflogs with <code class="ncode">git reflog expire --expire=now --all</code><br><br>Repack all of the pack files with <code class="ncode">git repack -ad</code><br><br>Prune all unreachable objects with <code class="ncode">git prune</code><br><br>As you can see some of these are quite scary procedures and so it is important that you understand all that you are doing before you do it.
</div><br>The idea being proposed here is only really viable because of Tamagoyaki's situation.
The code is due to be finished soon and once that happens, the team have decided to push a rewritten branch into the public domain and to resync all of their development repositories to this new branch.
It should be noted that the <code class="ncode">filter-branch</code> tool can be used in other circumstances too.
We are going to take a look at just one of these.
However, let us first clean up our repository a little and move some things around.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ mkdir tester</strong><br>
<strong>john@satsuki:~/coderepo$ ls</strong><br>
another_file  cont_dev  newfile1  newfile2  newfile3  temp_file  tester  test.sh<br>
<strong>john@satsuki:~/coderepo$ mv test.sh tester/</strong><br>
<strong>john@satsuki:~/coderepo$ git mv newfile* tester</strong><br>
<strong>john@satsuki:~/coderepo$ git add tester/test.sh</strong><br>
<strong>john@satsuki:~/coderepo$ rm temp_file </strong><br>
<strong>john@satsuki:~/coderepo$ git status</strong><br>
# On branch master<br>
# Changes to be committed:<br>
#   (use "git reset HEAD &lt;file&gt;..." to unstage)<br>
#<br>
#	renamed:    newfile1 -&gt; tester/newfile1<br>
#	renamed:    newfile2 -&gt; tester/newfile2<br>
#	renamed:    newfile3 -&gt; tester/newfile3<br>
#	new file:   tester/test.sh<br>
#<br>
<strong>john@satsuki:~/coderepo$ git commit -a -m 'Moved testing suite'</strong><br>
[master f08ac57] Moved testing suite<br>
 4 files changed, 9 insertions(+), 0 deletions(-)<br>
 rename newfile1 =&gt; tester/newfile1 (100 rename newfile2 =&gt; tester/newfile2 (100 rename newfile3 =&gt; tester/newfile3 (100 create mode 100755 tester/test.sh<br>
<strong>john@satsuki:~/coderepo$ </strong><br>
</code></div><br>We have reverted back to our <strong>master</strong> branch and in doing so have regained <code class="ncode">newfile1</code>.
After that, we deleted our rewritten branch and moved <code class="ncode">test.sh</code> along with all of the <code class="ncode">newfile</code>s into a new folder called <code class="ncode">tester</code>.<br><br><table border="0" cellpadding="0" cellspacing="0" width="100%">
					<tr>
						<td><p align="left"><a href="chap8-2.html"><img src="images/prev.png" alt="Previous Day" height="29" border="0"></a></p></td>
						<td><p align="right"><a href="chap8-4.html"><img src="images/next.png" alt="Next Day" height="29" border="0"></a></p></td>
					</tr>
				</table>                  </td>
                <td class="fade_right">&nbsp;</td>
              </tr>
              <tr>
                <td class="fade_bot">&nbsp;</td>
                <td class="fade_corner">&nbsp;</td>
              </tr>
            </table></td>
            </tr>
          </table>
		</td>
      </tr>
      <tr>
        <td class="foot"><a href="index.html">home</a> | <a href="download.html">download</a> | <a href="read.html">read now</a> | <a href="source.html">source</a> | <a href="feedback.html">feedback</a> | <a href="legal.html">legal stuff</a><br>
        </td>
      </tr>
    </table></td>
  </tr>
</table>
</body>
</html>
