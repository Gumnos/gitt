<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Git In The Trenches</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
<link type="text/css" href="menu.css" rel="stylesheet" />
	<script type="text/javascript" src="jquery.js"></script>
</head>

<body>
<table width="1000" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr>
    <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td class="logo"><a href="index.html"><img src="images/git_logo_new.png" alt="Git In The Trenches" height="61" border="0"></a></td>
            <td class="nav">
				<a href="index.html">Home</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="download.html">Download Now</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="intro.html">Read Now</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="http://github.com/cbx33/gitt">Source</a>&nbsp;&nbsp;|&nbsp;&nbsp;
				<a href="feedback.html">Feeback</a>
			</td>
          </tr>
        </table></td>
      </tr>
      <tr>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td class="main_content_pad"><table width="100%"  border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td width="309"><table width="100%"  border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td class="subnav">
				<strong>Introduction</strong><br>
&bull;&nbsp;&nbsp;<a href="intro.html">How this book works</a><br>
<div class="divider"></div>
<strong>Setting up</strong><br>
&bull;&nbsp;&nbsp;<a href="setup.html">Making sure you have everything</a><br>
<div class="divider"></div>
<strong>Week 1</strong><br>
<span>&bull; Day 1 </span> - <a href="chap1-1.html"> "Things need to change"</a><br>
<span>&bull; Day 3 </span> - <a href="chap1-2.html"> "A possible solution"</a><br>
<span>&bull; Day 4 </span> - <a href="chap1-3.html"> "A decision is reached"</a><br>
<span>&bull; Day 5 </span> - <a href="chap1-4.html"> "Working like a team"</a><br>
<div class="divider"></div>
<strong>After Hours Week 1</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours1-1.html">"History Lesson"</a><br>
<div class="divider"></div>
<strong>Week 2</strong><br>
<span>&bull; Day 1 </span> - <a href="chap2-1.html"> "We are coders, we use Git!"</a><br>
<span>&bull; Day 2 </span> - <a href="chap2-2.html"> "Making commitments"</a><br>
<span>&bull; Day 4 </span> - <a href="chap2-3.html"> "Let's do this right, not fast"</a><br>
<span>&bull; Summary </span> - <a href="chap2-4.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 2</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours2-1.html">"A Little Of Git's Internals"</a><br>
<div class="divider"></div>
<strong>Week 3</strong><br>
<span>&bull; Day 1 </span> - <a href="chap3-1.html"> "How do I see what's going on?"</a><br>
<span>&bull; Day 2 </span> - <a href="chap3-2.html"> "But I need more information"</a><br>
<span>&bull; Day 3 </span> - <a href="chap3-3.html"> "What actually changed?"</a><br>
<span>&bull; Day 4 </span> - <a href="chap3-4.html"> "Finding a good reference point"</a><br>
<span>&bull; Day 5 </span> - <a href="chap3-5.html"> "Putting things back again"</a><br>
<span>&bull; Summary </span> - <a href="chap3-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 3</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours3-1.html">"A Closer Look At Diffs and Tags"</a><br>
<div class="divider"></div>
<strong>Week 4</strong><br>
<span>&bull; Day 1 </span> - <a href="chap4-1.html"> "We're getting somewhere"</a><br>
<span>&bull; Day 2 </span> - <a href="chap4-2.html"> "Branches galore"</a><br>
<span>&bull; Day 3 </span> - <a href="chap4-3.html"> "Tricking the twigs"</a><br>
<span>&bull; Day 4 </span> - <a href="chap4-4.html"> "I pressed delete..."</a><br>
<span>&bull; Day 5 </span> - <a href="chap4-5.html"> "Conflicting information"</a><br>
<span>&bull; Summary </span> - <a href="chap4-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 4</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours4-1.html">"Merge merge merge"</a><br>
&bull;&nbsp;&nbsp;<a href="afterhours4-2.html">"Grepping your life away"</a><br>
<div class="divider"></div>
<strong>Week 5</strong><br>
<span>&bull; Day 1 </span> - <a href="chap5-1.html"> "This isn't working for me John"</a><br>
<span>&bull; Day 2 </span> - <a href="chap5-2.html"> "Back to logging"</a><br>
<span>&bull; Day 4 </span> - <a href="chap5-3.html"> "Advanced Techniques"</a><br>
<span>&bull; Summary </span> - <a href="chap5-4.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 5</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours5-1.html">"Splitting up commits the easy way"</a><br>
<div class="divider"></div>
<strong>Week 6</strong><br>
<span>&bull; Day 1 </span> - <a href="chap6-1.html"> "My private little stash"</a><br>
<span>&bull; Day 2 </span> - <a href="chap6-2.html"> "What?! No backup?"</a><br>
<span>&bull; Day 3 </span> - <a href="chap6-3.html"> "Is this clone for real?"</a><br>
<span>&bull; Day 4 </span> - <a href="chap6-4.html"> "Help I'm no longer up to date?"</a><br>
<span>&bull; Day 5 </span> - <a href="chap6-5.html"> "I'm putting my foot down"</a><br>
<span>&bull; Summary </span> - <a href="chap6-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 6</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours6-1.html">"Tug of war"</a><br>
&bull;&nbsp;&nbsp;<a href="afterhours6-2.html">"Referring to objects"</a><br>
<div class="divider"></div>
<strong>Week 7</strong><br>
<span>&bull; Day 1 </span> - <a href="chap7-1.html"> "Networking with a difference"</a><br>
<span>&bull; Day 2 </span> - <a href="chap7-2.html"> "Now let's work together"</a><br>
<span>&bull; Day 3 </span> - <a href="chap7-3.html"> "Rebasing our commitments"</a><br>
<span>&bull; Day 4 </span> - <a href="chap7-4.html"> "Starting to get rebased"</a><br>
<span>&bull; Day 5 </span> - <a href="chap7-5.html"> "I could rebase the world"</a><br>
<span>&bull; Summary </span> - <a href="chap7-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 7</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours7-1.html">"Network Communicating"</a><br>
<div class="divider"></div>
<strong>Week 8</strong><br>
<span>&bull; Day 1 </span> - <a href="chap8-1.html"> "Give a man a patch"</a><br>
<span>&bull; Day 2 </span> - <a href="chap8-2.html"> "Looking for problems"</a><br>
<span>&bull; Day 3 </span> - <a href="chap8-3.html"> "Filtered repos"</a><br>
<span>&bull; Day 4 </span> - <a href="chap8-4.html"> "Let's make a library"</a><br>
<span>&bull; Day 5 </span> - <a href="chap8-5.html"> "Shhh....we're in a library"</a><br>
<span>&bull; Summary </span> - <a href="chap8-6.html"> John's Notes</a><br>
<div class="divider"></div>
<strong>After Hours Week 8</strong><br>
&bull;&nbsp;&nbsp;<a href="afterhours8-1.html">"Fishing for beginners"</a><br>
<div class="divider"></div>
<strong>A little extra help</strong><br>
&bull;&nbsp;&nbsp;<a href="chap9-1.html">Taking things further</a><br>
&bull;&nbsp;&nbsp;<a href="chap9-2.html">The end of the journey</a><br>
<div class="divider"></div>

				
				<td class="fade_right">&nbsp;</td>
              </tr>
              <tr>
                <td class="fade_bot">&nbsp;</td>
                <td class="fade_corner">&nbsp;</td>
              </tr>
            </table>              <h1>&nbsp;</h1>
              </td>
            <td><table width="100%"  border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td class="read_content">
<h1>Week 6</h1><h2>Day 4 - "Help I'm no longer up to date?"</h2>
<h3>Pulling changes, not teeth</h3>
With a remote tracking branch, we can pull in the changes from the remote repository.
In our case, the remote repository is in the <code class="ncode">coderepo</code> directory that we created at the start of the book.
In the <code class="ncode">coderepo-cl</code> directory we have a separate, self-contained copy of the repository.
At the moment, because no changes have occurred to either, they contain exactly the same data.<br><br>By running the <code class="ncode">git remote</code> tool again, we can see which branches are set up locally to track their remote counterparts in <strong>origin</strong>.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo-cl$ git remote show origin</strong><br>
* remote origin<br>
  Fetch URL: /home/john/coderepo<br>
  Push  URL: /home/john/coderepo<br>
  HEAD branch: master<br>
  Remote branches:<br>
    master    tracked<br>
    wonderful tracked<br>
    zaney     tracked<br>
  Local branches configured for 'git pull':<br>
    master    merges with remote master<br>
    wonderful merges with remote wonderful<br>
  Local refs configured for 'git push':<br>
    master    pushes to master    (up to date)<br>
    wonderful pushes to wonderful (up to date)<br>
<strong>john@satsuki:~/coderepo-cl$</strong><br>
</code></div><br>What we are going to do now is make some changes to our original repository and see how we can view those changes and indeed pull them into our current local working repository, or clone.
Note that in the following code examples we have switched back to working on our original repository, in the <code class="ncode">coderepo</code> folder.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo-cl$ cd ../coderepo</strong><br>
<strong>john@satsuki:~/coderepo$ git branch</strong><br>
* master<br>
  wonderful<br>
  zaney<br>
<strong>john@satsuki:~/coderepo$ git checkout wonderful</strong><br>
Switched to branch 'wonderful'<br>
<strong>john@satsuki:~/coderepo$ git merge master</strong><br>
Updating cfbecab..37950f8<br>
Fast-forward<br>
 another_file            |    1 +<br>
 my_third_committed_file |    1 -<br>
 newfile1                |    3 ++-<br>
 newfile2                |    2 +-<br>
 4 files changed, 4 insertions(+), 3 deletions(-)<br>
 delete mode 100644 my_third_committed_file<br>
<strong>john@satsuki:~/coderepo$ echo "These changes are in the origin" &gt;&gt; newfile3</strong><br>
<strong>john@satsuki:~/coderepo$ git add newfile3</strong><br>
<strong>john@satsuki:~/coderepo$ git commit -a -m 'Added a new file'</strong><br>
[wonderful 1c3206a] Added a new file<br>
 1 files changed, 1 insertions(+), 0 deletions(-)<br>
 create mode 100644 newfile3<br>
<strong>john@satsuki:~/coderepo$</strong><br>
</code></div><br>As you can see, we have switched back to working on our old <strong>origin</strong> and have bought <strong>wonderful</strong> to be in line with master and have added a new file and committed the changes.
Now let us go back to our clone and see if we can see those changes.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo$ cd ../coderepo-cl/</strong><br>
<strong>john@satsuki:~/coderepo-cl$ git diff wonderful origin/</strong><br>
origin/HEAD        origin/master      origin/wonderful   origin/zaney<br>
<strong>john@satsuki:~/coderepo-cl$ git diff wonderful origin/wonderful</strong><br>
<strong>john@satsuki:~/coderepo-cl$</strong><br>
</code></div><br>That seems a little odd at first glance.
We have tried to view a diff between our local <strong>wonderful</strong> branch and the remote <strong>origin/wonderful</strong> branch.
Interestingly, Git is telling us that there is no difference.
Hang on though, we just made some changes above.<br><br>Remember before we discussed the fact that our clone was disconnected from the <strong>origin</strong> copy? What this means is that unless we ask Git, it won't update details about what is present in the remote copy.
Once this is up to date, we can pull the changes into our local copy of the remote branch? Interestingly there are actually two ways to do this.<br><br>The first method is by running a <code class="ncode">git pull</code> command.
If you remember the output from the <code class="ncode">git remote show origin</code>, you may remember that it showed that there was a local branch configured for <code class="ncode">'git pull'</code> and the details it gave for the <strong>wonderful</strong> branch were as follows; <code class="ncode">wonderful merges with remote wonderful</code>.
What this means, is that when we run a <code class="ncode">git pull</code> from inside the <strong>wonderful</strong> branch, Git will automatically contact the remote repository, update the list of changes and merge them into the local branch if possible.<br><br>We mentioned that there were two methods to perform the procedure.
Whilst the first one is to use <code class="ncode">git pull</code>, the second one actually achieves an almost identical result, but by running two commands instead of one.
In point of fact, these two commands are executed by the <code class="ncode">git pull</code> command.
Running them as two separate commands allows us to understand a little more about what is happening.
Let us run the command and then explain what we have done.<br><div id="codeblock"><code><strong>john@satsuki:~/coderepo-cl$ git fetch origin</strong><br>
remote: Counting objects: 4, done.<br>
remote: Compressing objects: 100remote: Total 3 (delta 1), reused 0 (delta 0)<br>
Unpacking objects: 100From /home/john/coderepo<br>
   cfbecab..1c3206a  wonderful  -&gt; origin/wonderful<br>
<strong>john@satsuki:~/coderepo-cl$ git diff wonderful origin/wonderful</strong><br>
diff --git a/another_file b/another_file<br>
index dba885d..b3a5cc5 100644<br>
--- a/another_file<br>
+++ b/another_file<br>
@@ -1 +1,2 @@<br>
 New stuff<br>
+Number strings rule 1234<br>
...<br>
...<br>
...<br>
<br>
<strong>john@satsuki:~/coderepo-cl$ git merge origin/wonderful</strong><br>
Updating cfbecab..1c3206a<br>
Fast-forward<br>
 another_file            |    1 +<br>
 my_third_committed_file |    1 -<br>
 newfile1                |    3 ++-<br>
 newfile2                |    2 +-<br>
 newfile3                |    1 +<br>
 5 files changed, 5 insertions(+), 3 deletions(-)<br>
 delete mode 100644 my_third_committed_file<br>
 create mode 100644 newfile3<br>
<strong>john@satsuki:~/coderepo-cl$</strong><br>
</code></div><br>As you can see, the two commands that we used were <code class="ncode">git fetch</code> and the more familiar <code class="ncode">git merge</code>.
The <code class="ncode">git fetch</code> command literally visits the remote repository, in our case we asked for <strong>origin</strong>, and finds which objects are new.
These are then copied to the local clone, and the HEADs of the various remote branches are updated.
We now rerun our <code class="ncode">git diff</code>, only this time, we see a great many more changes than before.
Finally we initiate a <code class="ncode">git merge</code> to pull the changes from the now up to date remote branch to our local one.<br><br>We could have used the <code class="ncode">git pull</code> command here, and if we had supplied no parameters to it, it would have achieved the exact same outcome.
The only difference would have been running one command instead of two.
Please note, that there are occasions when you would require one over the other, but as an introduction, this should be sufficient.<br><br><table border="0" cellpadding="0" cellspacing="0" width="100%">
					<tr>
						<td><p align="left"><a href="chap6-3.html"><img src="images/prev.png" alt="Previous Day" height="29" border="0"></a></p></td>
						<td><p align="right"><a href="chap6-5.html"><img src="images/next.png" alt="Next Day" height="29" border="0"></a></p></td>
					</tr>
				</table>                  </td>
                <td class="fade_right">&nbsp;</td>
              </tr>
              <tr>
                <td class="fade_bot">&nbsp;</td>
                <td class="fade_corner">&nbsp;</td>
              </tr>
            </table></td>
            </tr>
          </table>
		</td>
      </tr>
      <tr>
        <td class="foot"><a href="index.html">home</a> | <a href="download.html">download</a> | <a href="read.html">read now</a> | <a href="source.html">source</a> | <a href="feedback.html">feedback</a> | <a href="legal.html">legal stuff</a><br>
        </td>
      </tr>
    </table></td>
  </tr>
</table>
</body>
</html>
