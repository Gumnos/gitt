 rm -rf x; 
 mkdir x; 
 cd x; 
 git init; 
 echo A>A; 
 git add A; 
 git commit -m A; 
 git branch foo; 
 echo AA>A; 
 MYBR=`git branch | egrep '^\*' | colrm 1 2`; 
 git checkout -b my_wip; 
 git commit -a -m WIP; 
 git checkout foo; 
 echo AAA>>A; 
 git commit -a -m AAA; 
 git status; 
 git checkout $MYBR; 
 git merge --squash my_wip; 
 git branch -D my_wip; 
 git branch -a; 
 git status; 
 cat A
